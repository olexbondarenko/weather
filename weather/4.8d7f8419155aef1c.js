"use strict";(self.webpackChunkweather=self.webpackChunkweather||[]).push([[4],{4:(O,p,i)=>{i.r(p),i.d(p,{HomeModule:()=>M});var s=i(19),m=i(799),l=i(346),f=i(372),e=i(865),g=i(611),a=i(10);let d=(()=>{class r{constructor(t){this.weatherService=t,this.class="search",this.subscription=new l.w,this.currentCity="",this.subscription=this.weatherService.currentLocation.subscribe(n=>{this.currentCity=n.city||n.name})}setCurrentCity(){this.currentCity.length&&(this.weatherService.setCurrentCity(this.currentCity),this.weatherService.getCityGeolocation(this.currentCity).subscribe(t=>{t.length?(this.weatherService.setCurrentLocation(t[0]),this.weatherService.setError("")):this.weatherService.setError("City not found")},t=>{this.weatherService.setError(t.error.message)}))}ngOnDestroy(){this.subscription.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(g.F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-search"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Tol(n.class)},decls:4,vars:2,consts:[[1,"search__form"],["type","text","name","location","placeholder","Enter your city",1,"search__form-field",3,"ngModel","ngModelChange"],["type","button",1,"search__form-btn",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"input",1),e.NdJ("ngModelChange",function(u){return n.currentCity=u}),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return n.setCurrentCity()}),e._uU(3,"Search"),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngModel",n.currentCity),e.xp6(1),e.Q6J("disabled",0===n.currentCity.trim().length))},directives:[a._Y,a.JL,a.F,a.Fj,a.JJ,a.On],styles:[".search__form[_ngcontent-%COMP%]{display:flex;align-items:center}.search__form-field[_ngcontent-%COMP%]{display:block;flex-basis:80%;max-width:80%;height:50px;padding:0 15px;border:none;font-size:20px;font-weight:300}.search__form-btn[_ngcontent-%COMP%]{display:block;flex-basis:20%;max-width:20%;height:50px;padding:0 15px;border:none;background:#ffba00;font-size:16px;font-weight:300;text-transform:uppercase;color:#fff;cursor:pointer}.search__form-btn[disabled][_ngcontent-%COMP%]{opacity:.8;pointer-events:none}"]}),r})();var _=i(489),w=i(526);function C(r,o){if(1&r&&(e.TgZ(0,"div",19),e._UZ(1,"app-weather-card",20),e.qZA()),2&r){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("weather",t)("currentUnits",n.currentUnits)}}function x(r,o){if(1&r&&(e.ynx(0),e.TgZ(1,"div",3),e.TgZ(2,"div",4),e.TgZ(3,"div",5),e.TgZ(4,"div",6),e._uU(5),e.qZA(),e.TgZ(6,"div",7),e._uU(7),e.ALo(8,"date"),e.qZA(),e.qZA(),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e._uU(11),e.ALo(12,"number"),e.TgZ(13,"sup"),e._UZ(14,"i",10),e.qZA(),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"div",12),e._UZ(17,"img",13),e.qZA(),e.TgZ(18,"div",14),e._uU(19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",15),e.TgZ(21,"h5",16),e._uU(22," Forecast for 7 days "),e.qZA(),e.TgZ(23,"div",17),e.YNc(24,C,2,2,"div",18),e.qZA(),e.qZA(),e.BQk()),2&r){const t=e.oxw();e.xp6(5),e.Oqu(t.currentCity),e.xp6(2),e.Oqu(e.lcZ(8,7,1e3*t.currentWeather.dt)),e.xp6(4),e.hij(" ",e.xi3(12,9,t.currentWeather.temp,"1.0-0")," "),e.xp6(3),e.Q6J("ngClass","metric"===t.currentUnits?"wi-celsius":"wi-fahrenheit"),e.xp6(3),e.Q6J("src","http://openweathermap.org/img/wn/02d@2x.png",e.LSH),e.xp6(2),e.hij(" ",null==t.currentWeather.weather[0]?null:t.currentWeather.weather[0].main," "),e.xp6(5),e.Q6J("ngForOf",t.forecastWeather)}}function v(r,o){if(1&r&&e._UZ(0,"app-error",21),2&r){const t=e.oxw();e.Q6J("errorMessage",t.errorMessage)}}const y=[{path:"",component:(()=>{class r{constructor(t){this.weatherService=t,this.subscription=new l.w,this.errorMessage="",this.currentUnits="",this.currentCity="",this.currentWeather={dt:0,temp:0,feels_like:0,humidity:0,pressure:0,wind_gust:0,wind_speed:0,sunrise:0,sunset:0,weather:[]},this.forecastWeather=[],this.subscription=(0,f.aj)([this.weatherService.currentLocation,this.weatherService.currentUnits,this.weatherService.errorMessage]).subscribe(([n,c,u])=>{this.currentCity=n.city||n.name,this.currentUnits=c,this.errorMessage=u,this.weatherService.getCurrentWeather().subscribe(h=>{this.currentWeather=h.current,this.forecastWeather=Object.values(h.daily).slice(1)},h=>{this.weatherService.setError(h.statusText),this.subscription.unsubscribe()})})}ngOnDestroy(){this.subscription.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(g.F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],decls:5,vars:2,consts:[[1,"home"],[4,"ngIf","ngIfElse"],["errorBlock",""],[1,"weather-current"],[1,"weather-current__row"],[1,"weather-current__main"],[1,"weather-current__main-city"],[1,"weather-current__main-date"],[1,"weather-current__temp"],[1,"weather-current__temp-value"],[1,"wi",3,"ngClass"],[1,"weather-current__temp-info"],[1,"weather-current__temp-info-icon"],["alt","weather",3,"src"],[1,"weather-current__temp-info-main"],[1,"weather-forecast"],[1,"weather-forecast__title"],[1,"weather-forecast__row"],["class","weather-forecast__col",4,"ngFor","ngForOf"],[1,"weather-forecast__col"],[3,"weather","currentUnits"],[3,"errorMessage"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0),e._UZ(1,"app-search"),e.YNc(2,x,25,12,"ng-container",1),e.YNc(3,v,1,1,"ng-template",null,2,e.W1O),e.qZA()),2&t){const c=e.MAs(4);e.xp6(2),e.Q6J("ngIf",0===n.errorMessage.length)("ngIfElse",c)}},directives:[d,s.O5,s.mk,s.sg,_.X,w.q],pipes:[s.uU,s.JJ],styles:[".home[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:block;margin-bottom:30px}.weather-current[_ngcontent-%COMP%]{margin-bottom:50px;padding-bottom:30px}.weather-current__row[_ngcontent-%COMP%]{display:flex;margin:0 -10px}.weather-current__main[_ngcontent-%COMP%]{flex-basis:60%;max-width:60%;padding:0 10px}.weather-current__main-city[_ngcontent-%COMP%]{margin-bottom:20px;font-size:100px;font-weight:300}.weather-current__main-date[_ngcontent-%COMP%]{font-size:30px;font-weight:100;color:#ffba00}.weather-current__temp[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;flex-basis:40%;max-width:40%;padding:0 10px}.weather-current__temp-value[_ngcontent-%COMP%]{padding:0 10px;font-size:150px;font-weight:300;color:#ffba00}.weather-current__temp-value[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:-50px}.weather-current__temp-info[_ngcontent-%COMP%]{padding:0 10px}.weather-current__temp-info-main[_ngcontent-%COMP%]{margin-top:-10px;font-size:30px;font-weight:100}.weather-forecast__title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:30px;font-size:20px;font-weight:300}.weather-forecast__row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -10px}.weather-forecast__col[_ngcontent-%COMP%]{flex-basis:50%;max-width:50%;padding:0 10px;margin-bottom:20px}"]}),r})()}];let b=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[m.Bz.forChild(y)],m.Bz]}),r})();var Z=i(382);let M=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[s.ez,b,Z.m]]}),r})()}}]);